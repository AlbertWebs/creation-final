/* Mobile Responsive Improvements for Landing Page */

/* ============================================
   MOBILE LOGO SCALING
   ============================================ */
@media (max-width: 768px) {
    /* Scale down logo on mobile */
    #logo-img {
        max-width: 130px !important;
        height: auto !important;
        width: auto !important;
        object-fit: contain !important;
    }
    
    .site-branding {
        padding: 8px 0 !important;
        flex: 0 0 auto !important;
    }
    
    .site-branding a {
        display: inline-block;
        line-height: 1 !important;
    }
    
    /* Ensure logo doesn't overflow */
    .site-navigation {
        flex-wrap: wrap !important;
        justify-content: space-between !important;
    }
}

@media (max-width: 480px) {
    /* Even smaller logo for very small screens */
    #logo-img {
        max-width: 110px !important;
        height: auto !important;
    }
    
    .site-branding {
        padding: 6px 0 !important;
    }
}

@media (max-width: 360px) {
    /* Extra small screens */
    #logo-img {
        max-width: 100px !important;
    }
}

/* ============================================
   PORTFOLIO PAGE MOBILE LOGO FIX
   ============================================ */
/* Scale down logo on portfolio detail pages - more aggressive than homepage */
@media (max-width: 768px) {
    /* Portfolio pages - more aggressive logo scaling */
    body.ttm-one-page-site #logo-img,
    body:not(.home) #logo-img,
    .site-main ~ header #logo-img,
    header #logo-img,
    .ttm-one-page-site header #logo-img {
        max-width: 110px !important;
        width: auto !important;
        height: auto !important;
        object-fit: contain !important;
    }
    
    body.ttm-one-page-site .site-branding,
    body:not(.home) .site-branding {
        padding: 6px 0 !important;
        flex: 0 0 auto !important;
    }
    
    body.ttm-one-page-site .site-branding a,
    body:not(.home) .site-branding a {
        display: inline-block;
        line-height: 1 !important;
    }
}

@media (max-width: 480px) {
    /* Portfolio pages - even smaller logo */
    body.ttm-one-page-site #logo-img,
    body:not(.home) #logo-img,
    .site-main ~ header #logo-img,
    header #logo-img,
    .ttm-one-page-site header #logo-img {
        max-width: 90px !important;
        width: auto !important;
        height: auto !important;
    }
    
    body.ttm-one-page-site .site-branding,
    body:not(.home) .site-branding {
        padding: 5px 0 !important;
    }
}

@media (max-width: 360px) {
    /* Portfolio pages - extra small screens */
    body.ttm-one-page-site #logo-img,
    body:not(.home) #logo-img,
    .site-main ~ header #logo-img,
    header #logo-img,
    .ttm-one-page-site header #logo-img {
        max-width: 80px !important;
        width: auto !important;
    }
}

/* ============================================
   PRETTYPHOTO LIGHTBOX MOBILE LOGO FIX
   ============================================ */
/* Scale down logo in prettyPhoto lightbox on mobile */
@media (max-width: 768px) {
    /* Target logo when prettyPhoto is open */
    .pp_pic_holder #logo-img,
    .pp_overlay ~ * #logo-img,
    body.pp_modal_open #logo-img {
        max-width: 100px !important;
        height: auto !important;
        width: auto !important;
    }
    
    /* Also target header logo in lightbox */
    .pp_pic_holder ~ * header #logo-img,
    body.pp_modal_open header #logo-img {
        max-width: 100px !important;
        height: auto !important;
    }
    
    /* Target site branding in lightbox */
    body.pp_modal_open .site-branding {
        padding: 5px 0 !important;
    }
    
    body.pp_modal_open .site-branding #logo-img {
        max-width: 90px !important;
    }
}

@media (max-width: 480px) {
    body.pp_modal_open #logo-img,
    body.pp_modal_open header #logo-img,
    body.pp_modal_open .site-branding #logo-img {
        max-width: 80px !important;
    }
}

/* ============================================
   HEADER MOBILE IMPROVEMENTS
   ============================================ */
@media (max-width: 1199px) {
    /* Header adjustments */
    header.ttm-header-style-01 {
        position: relative !important;
        background-color: rgba(24, 24, 24, 0.95) !important;
    }
    
    .site-navigation {
        padding: 10px 15px !important;
        min-height: 60px !important;
    }
    
    .widget_info {
        display: none !important;
    }
    
    /* Mobile menu button styling - vertically centered */
    .btn-show-menu-mobile {
        width: 30px;
        height: 30px;
        margin-left: 15px;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        align-self: center !important;
        margin-top: 0 !important;
        margin-bottom: 0 !important;
    }
    
    /* Ensure parent container centers burger nav */
    .site-navigation {
        align-items: center !important;
    }
    
    .site-navigation > .d-flex.flex-row {
        align-items: center !important;
        height: 100% !important;
    }
    
    .btn-show-menu-mobile .menubar-box {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        height: 100% !important;
        width: 100% !important;
    }
    
    /* Center logo vertically too */
    .site-branding {
        display: flex !important;
        align-items: center !important;
        height: 100% !important;
    }
}

/* ============================================
   SLIDER OVERLAY - FULL SCREEN COVERAGE
   ============================================ */
/* Hero slider overlay - cover entire screen on all devices */
rs-layer[data-type="shape"][id*="layer-overlay"],
rs-layer[id*="layer-overlay"][data-type="shape"] {
    width: 100vw !important;
    height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    min-width: 100vw !important;
    min-height: 100vh !important;
    background: rgba(0,0,0,0.5) !important;
    left: 0 !important;
    top: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    position: fixed !important; /* Fixed positioning to cover entire viewport */
    z-index: 6 !important;
    margin: 0 !important;
    padding: 0 !important;
    transform: none !important;
    box-sizing: border-box !important;
}

/* Ensure slider container allows overlay to cover screen */
.ttm-rev_slider-wide {
    position: relative !important;
    overflow: visible !important;
}

/* Make sure overlay covers entire viewport */
rs-module-wrap,
rs-module {
    position: relative !important;
    overflow: visible !important;
}

/* Additional rule to force overlay to cover entire viewport */
rs-layer[data-type="shape"][id*="layer-overlay"] {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 6 !important;
}

/* Prevent slider buttons from disappearing during transitions */
/* Only apply after animation completes - check for elements that have animated in */
rs-layer.tm-slider-btn[data-eo="n"].rs-layer-visible,
a.rs-layer.tm-slider-btn[data-eo="n"].rs-layer-visible {
    visibility: visible !important;
    opacity: 1 !important;
    display: block !important;
}

/* ============================================
   SLIDER MOBILE RESPONSIVENESS
   ============================================ */
@media (max-width: 768px) {
    /* Slider container */
    .ttm-rev_slider-wide {
        height: 60vh !important;
        min-height: 400px !important;
    }
    
    /* Ensure overlay still covers full viewport on mobile */
    rs-layer[data-type="shape"][id*="layer-overlay"],
    rs-layer[id*="layer-overlay"][data-type="shape"] {
        width: 100vw !important;
        height: 100vh !important;
    }
    
    /* Text adjustments in slider */
    rs-layer[data-type="text"] {
        text-align: center !important;
        padding: 0 20px !important;
    }
    
    /* Button adjustments - side by side on mobile */
    .tm-slider-btn {
        padding: 12px 16px !important;
        font-size: 11px !important;
        margin: 10px 2px !important;
        display: inline-block !important;
        width: auto !important;
        min-width: 0 !important;
        white-space: nowrap !important;
    }
    
    /* Hide "Our Portfolio" button on mobile, only show "View More" */
    @media (max-width: 768px) {
        /* Hide the "Our Portfolio" button (layer-1) on mobile */
        rs-layer.tm-slider-btn[id*="layer-1"] {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
        }
        
        /* Show only "View More" button (layer-4) centered on mobile */
        rs-layer.tm-slider-btn[id*="layer-4"] {
            position: absolute !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            top: auto !important;
            margin-left: 0 !important;
            max-width: 90% !important;
        }
    }
    
    @media (max-width: 480px) {
        rs-layer.tm-slider-btn[id*="layer-4"] {
            max-width: 85% !important;
        }
        
        .tm-slider-btn {
            padding: 10px 12px !important;
            font-size: 10px !important;
        }
    }
}

@media (max-width: 480px) {
    .ttm-rev_slider-wide {
        height: 50vh !important;
        min-height: 350px !important;
    }
    
    /* Smaller text on very small screens */
    rs-layer[data-type="text"] {
        font-size: 14px !important;
        line-height: 1.4 !important;
    }
    
    .tm-slider-btn {
        padding: 10px 20px !important;
        font-size: 11px !important;
    }
}

/* ============================================
   CONTENT SECTIONS MOBILE IMPROVEMENTS
   ============================================ */
@media (max-width: 768px) {
    /* Section padding */
    .ttm-row {
        padding: 40px 0 !important;
    }
    
    /* Container padding */
    .container {
        padding-left: 15px !important;
        padding-right: 15px !important;
    }
    
    /* Headings */
    h1, h2, h3 {
        font-size: 1.8em !important;
        line-height: 1.3 !important;
        margin-bottom: 15px !important;
    }
    
    h2 {
        font-size: 1.6em !important;
    }
    
    h3 {
        font-size: 1.4em !important;
    }
    
    /* Paragraphs */
    p {
        font-size: 14px !important;
        line-height: 1.6 !important;
        margin-bottom: 15px !important;
    }
    
    /* Buttons */
    .btn, a.btn, button.btn {
        padding: 12px 24px !important;
        font-size: 14px !important;
        width: 100% !important;
        max-width: 300px !important;
        margin: 10px auto !important;
        display: block !important;
    }
}

/* ============================================
   WELCOME SECTION MOBILE
   ============================================ */
@media (max-width: 768px) {
    .welcome-section {
        padding: 40px 0 !important;
    }
    
    .welcome-section .col-xl-6,
    .welcome-section .col-lg-6 {
        margin-bottom: 30px !important;
    }
    
    .welcome-section img {
        width: 100% !important;
        height: auto !important;
        margin-bottom: 20px !important;
    }
}

/* ============================================
   SERVICES SECTION MOBILE
   ============================================ */
@media (max-width: 768px) {
    .ttm-service-box {
        margin-bottom: 30px !important;
        padding: 20px !important;
    }
    
    .ttm-service-box .featured-icon {
        margin-bottom: 15px !important;
    }
    
    .ttm-service-box h3 {
        font-size: 1.3em !important;
        margin-bottom: 10px !important;
    }
}

/* ============================================
   PORTFOLIO SECTION MOBILE
   ============================================ */
@media (max-width: 768px) {
    .ttm-portfolio-box {
        margin-bottom: 20px !important;
    }
    
    .ttm-portfolio-box img {
        width: 100% !important;
        height: auto !important;
    }
}

/* ============================================
   CLIENT LOGO SLIDER MOBILE
   ============================================ */
@media (max-width: 768px) {
    .client-section {
        padding: 30px 0 !important;
    }
    
    .client-section .client-box .client-thumbnail {
        width: 120px !important;
        height: 120px !important;
        min-width: 120px !important;
        min-height: 120px !important;
        max-width: 120px !important;
        max-height: 120px !important;
        padding: 10px !important;
    }
    
    .client-section .client-box .client-thumbnail img {
        max-height: 90px !important;
    }
}

@media (max-width: 480px) {
    .client-section .client-box .client-thumbnail {
        width: 100px !important;
        height: 100px !important;
        min-width: 100px !important;
        min-height: 100px !important;
        max-width: 100px !important;
        max-height: 100px !important;
        padding: 8px !important;
    }
    
    .client-section .client-box .client-thumbnail img {
        max-height: 75px !important;
    }
}

/* ============================================
   FOOTER MOBILE
   ============================================ */
@media (max-width: 768px) {
    footer {
        padding: 40px 0 20px !important;
    }
    
    footer .col-lg-3,
    footer .col-lg-4 {
        margin-bottom: 30px !important;
    }
    
    footer h3 {
        font-size: 1.2em !important;
        margin-bottom: 15px !important;
    }
    
    footer ul {
        padding-left: 0 !important;
    }
    
    footer ul li {
        margin-bottom: 8px !important;
    }
}

/* ============================================
   GENERAL MOBILE IMPROVEMENTS
   ============================================ */
@media (max-width: 768px) {
    /* Remove excessive margins */
    .mb-5, .my-5 {
        margin-bottom: 2rem !important;
    }
    
    .mt-5, .my-5 {
        margin-top: 2rem !important;
    }
    
    /* Improve spacing */
    .section-title {
        margin-bottom: 30px !important;
    }
    
    /* Images */
    img {
        max-width: 100% !important;
        height: auto !important;
    }
    
    /* Tables */
    table {
        font-size: 12px !important;
        display: block !important;
        overflow-x: auto !important;
    }
    
    /* Forms */
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    textarea,
    select {
        width: 100% !important;
        padding: 12px !important;
        font-size: 14px !important;
    }
}

/* ============================================
   UTILITY CLASSES FOR MOBILE
   ============================================ */
@media (max-width: 768px) {
    .mobile-hide {
        display: none !important;
    }
    
    .mobile-center {
        text-align: center !important;
    }
    
    .mobile-full-width {
        width: 100% !important;
    }
    
    .mobile-padding {
        padding: 20px 15px !important;
    }
}

/* ============================================
   SMOOTH TRANSITIONS
   ============================================ */
* {
    -webkit-tap-highlight-color: transparent;
}

a, button {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

/* ============================================
   TOUCH-FRIENDLY BUTTONS
   ============================================ */
@media (max-width: 768px) {
    a, button, .btn {
        min-height: 44px !important;
        min-width: 44px !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
}

/* ============================================
   SMOOTH SCROLL BEHAVIOR
   ============================================ */
/* Add smooth scroll to all anchor links */
html {
    scroll-behavior: smooth !important;
}

/* Smooth scroll for parallax/anchor links */
a[href^="#"],
a[data-scroll],
a[href*="#about"],
a[href*="#portfolio"],
a[href*="#contact"],
a[href*="#center-of-excellence"],
a[href*="#home"] {
    scroll-behavior: smooth !important;
}

/* Ensure smooth scrolling works with JavaScript scroll libraries */
@media (prefers-reduced-motion: no-preference) {
    html {
        scroll-behavior: smooth !important;
    }
    
    * {
        scroll-behavior: inherit;
    }
}

/* ============================================
   READ MORE BUTTON VISIBILITY FIX
   ============================================ */
/* Make Read More buttons with skincolor class visible - only change text color */
.ttm-btn-color-skincolor {
    color: #32415C !important;
}

.ttm-btn-color-skincolor:hover {
    color: #2a3549 !important;
}

.ttm-btn-color-skincolor i {
    color: #32415C !important;
}

.ttm-btn-color-skincolor:hover i {
    color: #2a3549 !important;
}

/* Ensure button text is visible on all backgrounds */
.ttm-bgcolor-white .ttm-btn-color-skincolor,
.ttm-bgcolor-grey .ttm-btn-color-skincolor {
    color: #32415C !important;
}

